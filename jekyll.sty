\ProvidesPackage{jekyll}
\RequirePackage{etoolbox}

% We must set \textwidth to a big value, otherwise we can get unwanted linebreaks, 
% resulting in invalid yaml header
\textwidth=1000em

\newcommand\jekyll@printstring[2]{%
#1: #2\\%
}

\let\JekyllPrintString\jekyll@printstring

\newcommand\jekyll@printarray[2]{%
#1: |\\%
  #2
}

% abstract is not working anyway. it might be better to use `abstract` environment in the document
\newtoks\my@Abstract
\newcommand\Abstract[1]{\my@Abstract{#1}}

\gdef\AbstractString{abstract}
\newcommand\GetAbstract{%
%\def\@myempty{}
%\ifx\@Abstract\@empty
%\else
%abstract: |\\
%  \the\my@Abstract 
\jekyl@printarray\AbstractString{\the\my@abstract}
%\fi
}
